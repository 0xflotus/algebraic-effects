(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{38:function(e,a,n){"use strict";n.r(a),n.d(a,"default",function(){return g});var s=n(3),t=n(8),o=n(9),m=n(11),p=n(10),c=n(12),r=n(0),l=n.n(r),N=n(1),g=function(e){function a(e){var n;return Object(t.a)(this,a),(n=Object(m.a)(this,Object(p.a)(a).call(this,e))).layout=null,n}return Object(c.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props,a=e.components;Object(s.a)(e,["components"]);return l.a.createElement(N.MDXTag,{name:"wrapper",components:a},l.a.createElement(N.MDXTag,{name:"h1",components:a,props:{id:"state-effect"}},"State Effect"),l.a.createElement(N.MDXTag,{name:"p",components:a},"State effect allows you to maintain state accross multiple calls to your program."),l.a.createElement(N.MDXTag,{name:"hr",components:a}),l.a.createElement(N.MDXTag,{name:"h2",components:a,props:{id:"api"}},"API"),l.a.createElement(N.MDXTag,{name:"h3",components:a,props:{id:"functions"}},"Functions"),l.a.createElement(N.MDXTag,{name:"ul",components:a},l.a.createElement(N.MDXTag,{name:"li",components:a,parentName:"ul"},l.a.createElement(N.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"State.of"),"\nYou can pass it the initial state for your program and run it.")),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-haskell"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"State"),".",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"of")," :: a -> (",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Program"),"<",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"State"),"> ...b c, ...b) -> ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Task")," e c")),l.a.createElement(N.MDXTag,{name:"h3",components:a,props:{id:"operations"}},"Operations"),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},"State = {\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"get"),": func([], ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'a'"),"),\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"set"),": func([",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'a'"),"]),\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"update"),": func([",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'a -> a'"),"], ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'a'"),"),\n}")),l.a.createElement(N.MDXTag,{name:"h2",components:a,props:{id:"usage-examples"}},"Usage examples"),l.a.createElement(N.MDXTag,{name:"h3",components:a,props:{id:"using-state-effect"}},"Using State effect"),l.a.createElement(N.MDXTag,{name:"p",components:a},"State effect allows you to maintain state in your program accross multiple calls."),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { State } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/effects'"),";\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { call, sleep } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/core/operations'"),";\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," countdown = ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"*(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," count = ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," State.get();\n\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if"),"(count > ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"0"),") {\n    ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," State.set(count - ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1"),"); ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// Decrement count"),"\n    ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," sleep(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1000"),"); ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// Add a delay of 1 second"),"\n    ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," call(countdown); ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// Call the function recursively"),"\n  }\n}\n\nState.of(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"10"),")(countdown)\n  .fork(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"()")," =>")," {}, () => alert(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'HAPPY NEW YEAR!!!!'"),"));")),l.a.createElement(N.MDXTag,{name:"h3",components:a,props:{id:"composing-with-state-effect"}},"Composing with State effect"),l.a.createElement(N.MDXTag,{name:"p",components:a},"You can compose State effect with custom effects to make a really cool api"),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { createEffect } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/core'"),";\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { State } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/effects'"),";\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { call, sleep } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/core/operations'"),";\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," CounterButtonEff = createEffect(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'CounterButtonEff'"),", {\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"takeButtonClick"),": func(),\n});\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," ConsoleEff = createEffect(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'ConsoleEff'"),", {\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"log"),": func([",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'data'"),"]),\n});\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," clickCounter = ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"*(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," CounterButtonEff.takeButtonClick();\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," State.update(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"count")," =>")," count + ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1"),"); ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// Update the state"),"\n\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," ConsoleEff.log(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"`Button clicked ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-subst"}},"${",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"yield")," State.get()}")," times!`"),");\n\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," call(clickCounter);\n}\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," buttonEff = CounterButtonEff.handler({\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"takeButtonClick"),": ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},"(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"{ resume }"),") =>")," () =>\n    ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"document"),".getElementById(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'button'"),").addEventListener(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'click'"),", resume),\n});\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," logEff = ConsoleEff.handler({\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"log"),": ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},"(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"{ resume }"),") =>")," data => resume(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-built_in"}},"console"),".log(data)),\n}),\n\nState.of(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"0"),")\n  .with(buttonEff)\n  .with(logEff)\n  .run(clickCounter);")))}}]),a}(l.a.Component)}}]);